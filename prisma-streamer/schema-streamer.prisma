generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/@internal-streamer/prisma/client"
}

datasource db {
  provider          = "postgresql"
  url               = env("NEAR_STREAMER_SQL_DATABASE_URL")
  shadowDatabaseUrl = env("NEAR_STREAMER_SHADOW_DATABASE_URL")
}

model Transaction {
  hash String @id

  outcome     Json @db.JsonB
  transaction Json @db.JsonB

  block_hash      String
  block_timestamp BigInt
  block_height    BigInt

  receiver_id  String
  success_receipt_id  String

  missing   Boolean @default(false)
  processed Boolean @default(false)

  @@map("transaction")
}

model Receipt {
  receipt_id String @id

  receipt           Json @db.JsonB
  execution_outcome Json @db.JsonB


  @@map("receipt")
}
